## dufSync
基于dufs的同步工具，使用dufs的API实现对特定目录的监控和同步。 因为工作上需要在不同的电脑上同步文件，dufs一个exe就能够使用十分方便，但下载方便或者上传通过命令或者浏览器不太方便，于是就做了一个自动同步的工具。

## 使用方法
1、下载并运行dufs，获取地址。 2、打开dufSync工具填写地址和同步目录，保存设置。 3、选择同步模式，启用服务。

## 功能特性

- 🔄 **多种同步模式**：镜像同步、本地为准、服务器为准
- 📁 **智能文件管理**：自动创建目录、递归同步子文件夹
- 🚫 **灵活排除规则**：支持文件名和扩展名排除
- 🔐 **认证支持**：支持基本认证和摘要认证
- 📊 **实时监控**：同步状态和日志实时显示
- ⚙️ **可配置间隔**：自定义同步检查间隔

## 安装要求

- Python 3.7+
- dufs服务器运行中

## 安装步骤

1. 克隆或下载项目文件
2. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```

## 使用方法

1. 启动程序：
   ```bash
   python main.py
   ```

2. 配置基本设置：
   - 服务器地址：dufs服务器的URL（如：http://127.0.0.1:5000）
   - 本地同步文件夹：选择要同步的本地文件夹
   - 排除规则：设置不需要同步的文件（每行一个规则）
   - 同步间隔：设置检查同步的时间间隔（秒）
   - 认证信息：如果服务器需要认证，填入用户名和密码

3. 选择同步规则：
   - **镜像模式**：本地和服务器双向同步
   - **本地为准**：只将本地变化同步到服务器
   - **服务器为准**：只将服务器变化同步到本地

4. 同步控制：
   - **测试连接**：验证服务器连接状态
   - **立即同步**：手动执行一次同步
   - **启动同步**：开始自动定时同步
   - **暂停/继续**：暂停或继续同步过程
   - **停止同步**：完全停止同步服务

## 同步模式说明

### 镜像模式
- 本地新增/修改文件 → 上传到服务器
- 服务器新增/修改文件 → 下载到本地
- 本地删除文件 → 服务器对应文件也被删除
- 服务器删除文件 → 本地对应文件也被删除

### 本地为准
- 本地新增/修改文件 → 上传到服务器
- 本地删除文件 → 服务器对应文件也被删除
- 服务器的变化不影响本地文件

### 服务器为准
- 服务器新增/修改文件 → 下载到本地
- 服务器删除文件 → 本地对应文件也被删除
- 本地的变化不影响服务器文件

## 排除规则示例

```
*.tmp
*.log
.DS_Store
Thumbs.db
node_modules
.git
temp.txt
```

## 注意事项

- 确保dufs服务器正常运行
- 首次同步可能需要较长时间，取决于文件数量和大小
- 建议在重要数据同步前先进行测试
- 程序会在用户目录下创建`.dufs_sync`文件夹保存配置

## 故障排除

1. **连接失败**：检查服务器地址和网络连接
2. **认证失败**：确认用户名密码正确
3. **权限错误**：确保对本地文件夹有读写权限
4. **同步异常**：查看状态监控中的日志信息

## 技术栈

- Python 3.7+
- CustomTkinter (现代化GUI)
- Requests (HTTP客户端)
- Threading (多线程支持)